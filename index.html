<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>Option AI Assistant v1.0</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
    body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto;
        margin: 20px;
        background: #f5f7fa;
        color: #333;
    }

    h2 { margin-top: 30px; }

    .card {
        background: white;
        padding: 18px;
        border-radius: 12px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        margin-bottom: 25px;
    }

    input, select, textarea {
        width: 100%;
        padding: 10px;
        margin: 6px 0 16px 0;
        border: 1px solid #ccc;
        border-radius: 8px;
        font-size: 16px;
    }

    button {
        width: 100%;
        padding: 12px;
        border: none;
        background: #4a75eb;
        color: white;
        font-size: 17px;
        border-radius: 10px;
        margin-top: 10px;
    }

    button:hover { background: #385ed4; }

    .result-box {
        background: #eef3ff;
        border-left: 5px solid #4a75eb;
        padding: 12px;
        border-radius: 8px;
        margin-top: 15px;
    }

    .record-item {
        padding: 10px;
        background: #fff;
        border-radius: 8px;
        border: 1px solid #eee;
        margin-top: 10px;
    }
</style>
</head>

<body>

<h1>ğŸ“ˆ Option AI Assistant v1.0</h1>
<p>ä¸€ä¸ªç®€å•å¯é çš„â€œCall / Putâ€è¾…åŠ©å·¥å…·ï¼ˆå­¦ä¹ ç”¨é€”ï¼Œä¸æä¾›æŠ•èµ„å»ºè®®ï¼‰</p>


<!-- ============================
      ç¬¬ä¸€éƒ¨åˆ†ï¼šæ•°æ®é‡‡é›†åŒº
============================ -->
<div class="card">
<h2>â‘  æ•°æ®é‡‡é›†åŒº</h2>

<button onclick="openLink('https://edition.cnn.com/markets/fear-and-greed')">æŸ¥çœ‹ Fear & Greed Index</button>
<button onclick="openLink('https://www.cboe.com/tradable_products/vix/')">æŸ¥çœ‹ VIX</button>
<button onclick="openLink('https://www.marketwatch.com/investing/fund/spy')">æŸ¥çœ‹ SPY å®æ—¶å›¾</button>
<button onclick="openLink('https://ycharts.com/indicators/cboe_equity_put_call_ratio')">æŸ¥çœ‹ Put/Call Ratio</button>
<br><br>

<label>Fear & Greed Indexï¼š</label>
<input id="fg" placeholder="ä¾‹å¦‚ï¼š36">

<label>VIXï¼š</label>
<input id="vix" placeholder="ä¾‹å¦‚ï¼š12.4">

<label>Put/Call Ratioï¼š</label>
<input id="pc" placeholder="ä¾‹å¦‚ï¼š0.92">

<label>SPY ä»Šæ—¥è¶‹åŠ¿ï¼š</label>
<select id="trend">
    <option>å¼ºä¸Šæ¶¨</option>
    <option>å¼±ä¸Šæ¶¨</option>
    <option>æ¨ªç›˜</option>
    <option>å¼±ä¸‹è·Œ</option>
    <option>å¼ºä¸‹è·Œ</option>
</select>
</div>


<!-- ============================
      ç¬¬äºŒéƒ¨åˆ†ï¼šè®¡ç®—è¯„åˆ†åŒº
============================ -->
<div class="card">
<h2>â‘¡ ç»¼åˆè¯„åˆ†åŒºï¼ˆAIè¾…åŠ©ï¼‰</h2>

<button onclick="calculateScore()">è®¡ç®—ç»¼åˆè¯„åˆ†</button>

<div id="result" class="result-box"></div>
</div>


<!-- ============================
      ç¬¬ä¸‰éƒ¨åˆ†ï¼šäº¤æ˜“è®°å½•åŒº
============================ -->
<div class="card">
<h2>â‘¢ äº¤æ˜“è®°å½•ï¼ˆå­¦ä¹ ç”¨é€”ï¼‰</h2>

<label>æ—¥æœŸï¼š</label>
<input id="tradeDate" type="date">

<label>å†³ç­–ï¼ˆCall / Put / Skipï¼‰ï¼š</label>
<input id="decision">

<label>æ‰§è¡Œä»·æ ¼ï¼ˆStrikeï¼‰ï¼š</label>
<input id="strike">

<label>æˆæœ¬ï¼ˆCostï¼‰ï¼š</label>
<input id="cost">

<label>å¤‡æ³¨ï¼š</label>
<textarea id="notes" rows="3"></textarea>

<button onclick="saveRecord()">ä¿å­˜è®°å½•</button>

<h3>å†å²è®°å½•ï¼š</h3>
<div id="history"></div>
</div>


<!-- ============================
      JS é€»è¾‘
============================ -->
<script>
function openLink(url) {
    window.open(url, "_blank");
}

function calculateScore() {
    let fg = Number(document.getElementById("fg").value);
    let vix = Number(document.getElementById("vix").value);
    let pc = Number(document.getElementById("pc").value);
    let trend = document.getElementById("trend").value;

    let bull = 0;
    let bear = 0;

    // Fear & Greed
    if (fg > 60) bull += 2;
    if (fg < 40) bear += 2;

    // VIXï¼ˆä½=çœ‹æ¶¨ï¼‰
    if (vix < 15) bull += 1;
    if (vix > 18) bear += 1;

    // Put/Call
    if (pc < 0.95) bull += 2;
    if (pc > 1.10) bear += 2;

    // è¶‹åŠ¿
    if (trend === "å¼ºä¸Šæ¶¨") bull += 3;
    if (trend === "å¼±ä¸Šæ¶¨") bull += 1;
    if (trend === "å¼±ä¸‹è·Œ") bear += 1;
    if (trend === "å¼ºä¸‹è·Œ") bear += 3;

    // ç»“è®º
    let conclusion = "";
    if (bull - bear >= 3) conclusion = "â¡ï¸ å€¾å‘ï¼šCALLï¼ˆçœ‹æ¶¨ï¼‰";
    else if (bear - bull >= 3) conclusion = "â¡ï¸ å€¾å‘ï¼šPUTï¼ˆçœ‹è·Œï¼‰";
    else conclusion = "â¡ï¸ ä¸­æ€§ï¼šä¸å»ºè®®äº¤æ˜“";

    document.getElementById("result").innerHTML =
        `<b>çœ‹æ¶¨åˆ†æ•°ï¼š</b>${bull}<br>
         <b>çœ‹è·Œåˆ†æ•°ï¼š</b>${bear}<br><br>
         <h3>${conclusion}</h3>`;
}


// ======== ä¿å­˜äº¤æ˜“è®°å½• ========

function saveRecord() {
    let data = {
        date: tradeDate.value,
        decision: decision.value,
        strike: strike.value,
        cost: cost.value,
        notes: notes.value
    };

    let records = JSON.parse(localStorage.getItem("tradeRecords") || "[]");
    records.push(data);
    localStorage.setItem("tradeRecords", JSON.stringify(records));

    loadRecords();
    alert("å·²ä¿å­˜ï¼");
}

function loadRecords() {
    let records = JSON.parse(localStorage.getItem("tradeRecords") || "[]");
    let html = "";

    records.forEach(r => {
        html += `
        <div class="record-item">
            <b>${r.date}</b><br>
            å†³ç­–ï¼š${r.decision}<br>
            Strikeï¼š${r.strike}<br>
            Costï¼š${r.cost}<br>
            å¤‡æ³¨ï¼š${r.notes}
        </div>`;
    });

    document.getElementById("history").innerHTML = html;
}

loadRecords();
</script>

</body>
</html>
